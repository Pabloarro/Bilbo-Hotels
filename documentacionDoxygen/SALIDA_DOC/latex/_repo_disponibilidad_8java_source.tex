\doxysection{Repo\+Disponibilidad.\+java}
\hypertarget{_repo_disponibilidad_8java_source}{}\label{_repo_disponibilidad_8java_source}\index{C:/Users/pabloA/Bilbo-\/Hotels/src/main/java/es/deusto/bilboHotels/repository/RepoDisponibilidad.java@{C:/Users/pabloA/Bilbo-\/Hotels/src/main/java/es/deusto/bilboHotels/repository/RepoDisponibilidad.java}}
\mbox{\hyperlink{_repo_disponibilidad_8java}{Ir a la documentaci√≥n de este archivo.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00001}00001\ \textcolor{keyword}{package\ }es.deusto.bilboHotels.repository;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00002}00002\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00003}00003\ \textcolor{keyword}{import}\ es.deusto.bilboHotels.model.Disponibilidad;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00004}00004\ \textcolor{keyword}{import}\ org.springframework.data.jpa.repository.JpaRepository;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00005}00005\ \textcolor{keyword}{import}\ org.springframework.data.jpa.repository.Query;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00006}00006\ \textcolor{keyword}{import}\ org.springframework.data.repository.query.Param;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00007}00007\ \textcolor{keyword}{import}\ org.springframework.stereotype.Repository;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00008}00008\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00009}00009\ \textcolor{keyword}{import}\ java.time.LocalDate;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00010}00010\ \textcolor{keyword}{import}\ java.util.Optional;}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00012}00012\ @Repository}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00013}\mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad}{00013}}\ \textcolor{keyword}{public}\ \textcolor{keyword}{interface\ }\mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad}{RepoDisponibilidad}}\ \textcolor{keyword}{extends}\ JpaRepository<Disponibilidad,\ Long>\ \{}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00015}00015\ \ \ \ \ \textcolor{comment}{//\ Find\ max\ amount\ of\ available\ rooms\ for\ the\ least\ available\ day\ throughout\ the\ booking\ range}}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00016}00016\ \ \ \ \ @Query(\textcolor{stringliteral}{"{}SELECT\ MIN(COALESCE(a.habitacionesDisponibles,\ r.contadorHabitacion))\ FROM\ Habitacion\ r\ LEFT\ JOIN\ Disponibilidad\ a\ ON\ a.habitacion.id\ =\ r.id\ AND\ a.fecha\ BETWEEN\ :fechaCheckIn\ AND\ :fechaCheckOut\ WHERE\ r.id\ =\ :habitacionId"{}})}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00017}\mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad_a846497fd7d9fcd55349371afa2f6ef33}{00017}}\ \ \ \ \ Optional<Integer>\ \mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad_a846497fd7d9fcd55349371afa2f6ef33}{getMinAvailableRooms}}(@Param("{}habitacionId"{})\ Long\ habitacionId,\ @Param("{}fechaCheckIn"{})\ LocalDate\ fechaCheckIn,\ @Param("{}fechaCheckOut"{})\ LocalDate\ fechaCheckOut);}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00018}00018\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00019}\mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad_a73f8f9c5dd86d7061977a076e53a9cd2}{00019}}\ \ \ \ \ Optional<Disponibilidad>\ \mbox{\hyperlink{interfacees_1_1deusto_1_1bilbo_hotels_1_1repository_1_1_repo_disponibilidad_a73f8f9c5dd86d7061977a076e53a9cd2}{findByHabitacionIdAndFecha}}(Long\ habitacionId,\ LocalDate\ fecha);}
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{_repo_disponibilidad_8java_source_l00021}00021\ \}}

\end{DoxyCode}
